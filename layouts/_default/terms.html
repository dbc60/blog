{{ define "main" }}
{{ "<!-- BEGIN main layouts/_default/terms.html -->" | safeHTML }}

{{ $sections := (.Site.GetPage "/").Sections }}
{{ $context := (dict "context" . "sections"  $sections) }}

{{ block "secondary_nav" $context }}
{{ partial "secondaryNav.html" . }}
{{ end }}

<!-- See https://bwaycer.github.io/hugo_tutorial.hugo/templates/terms/ -->
<article class="content">
  <section>
    <h1 class="title-article-item">{{ .Title }}</h1>

    {{ $type := .Type }}
    {{ range $key, $value := .Data.Terms.Alphabetical }}
      {{ $name := .Name }}
      {{ $count := $value.Count }}
      {{ with $.Site.GetPage (printf "/%s/%s" $type $name) }}
      <p>
        <a href="{{ .Permalink }}">
          <span>{{ $count }}</span> {{ $name }}
        </a>
      </p>
      {{ end }}
    {{ end }}
  </section>
</article>
{{ "<!-- END main layouts/_default/terms.html -->" | safeHTML }}
{{ end }}
