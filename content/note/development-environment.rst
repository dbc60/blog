---
title: "Development Environment"
date: 2019-05-26T09:21:44-04:00
draft: true
categories: [software]
tags: [bash]
---

My bash profile (``.bash_profile``) is very simple:

.. code-block:: shell

    # generated by Git for Windows
    test -f ~/.profile && . ~/.profile
    test -f ~/.bashrc && . ~/.bashrc

For work, my ``.bash_profile`` has some additional items. OpenSC is "Open
source smart card tools and middleware." I think ``opensc-pkcs11.dll`` enables
use of the YubiKey with gitlab.

.. code-block:: shell

    # generated by Git for Windows
    test -f ~/.profile && . ~/.profile
    test -f ~/.bashrc && . ~/.bashrc
    export PATH="$HOME/.rbenv/bin:$HOME/.gem/bin:$PATH"
    export GEM_HOME=$HOME/.gem
    export GEM_PATH=$HOME/.gem

    #export PKCS11_PROVIDER=$WINDIR\System32\opensc-pkcs11.dll
    export PKCS11_PROVIDER=/c/Windows/System32/opensc-pkcs11.dll
    alias c="ssh-add -e $PKCS11_PROVIDER;ssh-add -s $PKCS11_PROVIDER"

Below is my ``.bashrc`` file launches ``ssh-agent`` so I don't have to enter my
GitHub password multiple times for cloning, pushing, or pulling a repository.
It has a resonable color scheme, and input follows the prompt on the same line.
It also uses ``winpty`` to launch python.

.. code-block:: shell

    #!/bin/bash

    SSHAGENT=`which ssh-agent`
    SSHAGENTARGS="-s"
    if [ -z "$SSH_AUTH_SOCK" -a -x "$SSHAGENT" ]; then
        eval `$SSHAGENT $SSHAGENTARGS`
        eval `ssh-add`
        trap "kill $SSH_AGENT_PID" 0
    fi

    LS_COLORS=$LS_COLORS:'di=0;35:'
    export LS_COLORS

    # The following sets the shell title and its prompt. I copied it from
    # "E:\local\Git\etc\profile.d\git-prompt.sh" and modified it to suite me.
    TITLEPREFIX="Pedestrian Labs"
    PS1='\[\033]0;$TITLEPREFIX: $PWD\007\]' # set window title
    PS1="$PS1"'\[\033[32m\]'       # change to green
    PS1="$PS1"'\u@\h '             # user@host<space>
    PS1="$PS1"'\[\033[33m\]'       # change to brownish yellow
    PS1="$PS1"'\w'                 # current working directory

    if test -z "$WINELOADERNOEXEC"
    then
            GIT_EXEC_PATH="$(git --exec-path 2>/dev/null)"
            COMPLETION_PATH="${GIT_EXEC_PATH%/libexec/git-core}"
            COMPLETION_PATH="${COMPLETION_PATH%/lib/git-core}"
            COMPLETION_PATH="$COMPLETION_PATH/share/git/completion"
            if test -f "$COMPLETION_PATH/git-prompt.sh"
            then
                    . "$COMPLETION_PATH/git-completion.bash"
                    . "$COMPLETION_PATH/git-prompt.sh"
                    PS1="$PS1"'\[\033[36m\]'  # change color to cyan
                    PS1="$PS1"'`__git_ps1`'   # bash function
            fi
    fi
    PS1="$PS1"'\[\033[0m\]'        # change color
    PS1="$PS1"'$ '                 # prompt: always $

    # For python 3.7.3 installation
    alias python='winpty python.exe'
